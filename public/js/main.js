$(document).ready(function(){var a=document.getElementById("canvas_coord"),o=new EasyCanvas("canvas_coord"),r=document.getElementById("canvas"),e=EasyCanvas("canvas"),n=[],t=34,c=t/2,i=$(".color_picker").val(),l=$(".pindou_shape:checked").val(),s=$(".siser_col").val(),v=$(".siser_row").val();function f(a,o){e.clean(20+t*a+1,20+t*o+1,t-2,t-2),n[a][o]=1}!function(){var e=s*t,c=v*t;a.width=e+100,a.height=c+100,r.width=e+100,r.height=c+100;for(var i=20;i<=c+20;i+=t)o.text({basic:[0,i-20,(i-20)/t],font:"14px Arial Black 500"}).line({basic:[[20,i],[e+20,i]],strokeColor:"#000"});for(var i=20;i<=e+20;i+=t)o.text({basic:[i-20,12,(i-20)/t]}).line({basic:[[i,20],[i,c+20]]});n=[];for(var l=0;l<s;l++){n[l]=[];for(var f=0;f<v;f++)n[l][f]=0}O(".color_count").html("0")}(),O("#canvas").mousedown(function(a){!function(a){var o=parseInt((a.offsetX-c)/t),r=parseInt((a.offsetY-c)/t);{if(!(o<s&&r<v))return!1;if("rectangle"==l){if(0!=n[o][r]&&1!=n[o][r])return void f(o,r);h=o,p=r,i=$(".color_picker").val(),h>=0&&h<s&&p>=0&&p<v&&(e.rect({basic:[20+t*h+2,20+t*p+2,t-4,t-4],strokeColor:"transparent",fillColor:i}),n[h][p]=i)}else{if(0!=n[o][r]&&1!=n[o][r])return void f(o,r);d=o,u=r,i=$(".color_picker").val(),d>=0&&d<s&&u>=0&&u<v&&(e.arc({basic:[20+c*(1+2*d),20+c*(1+2*u),c-4,0,2*Math.PI],strokeColor:i,fillColor:i}),n[d][u]=i)}}var d,u;var h,p}(a)})});